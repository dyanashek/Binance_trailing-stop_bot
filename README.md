# Binance trailing-stop bot
## Change language: [English](README.en.md)
***
Телеграмм бот для частного использования, устанавливает трейлинг-стоп в абсолютных значения для фьючерсной торговли на Binance.
## Функционал:
1. Устанавливает трейлинг-стоп в абсолютном значении (в USDT) с заданным отставанием при достижении парой заданного профита (в USDT)
2. Позволяет менять отставание и профит, от которого устанавливается трейлинг-стоп
3. Присылает уведомление при срабатывании стоп-заявки
4. Отображает результат сделки
5. Позволяет отслеживать общее количество позиций открытых в шорт / лонг, общую маржу по позициям
## Команды:
**Для удобства рекомендуется добавить данные команды в боковое меню бота, используя [BotFather](https://t.me/BotFather).**
- /pnl X - устанавливает значение PNL, с которого открывается трейлинг стоп, где Х - значение PNL в USDT;           
- /gap N - устанавливает отставание трейлинг стопа, где N - значение отставания в USDT;
- /settings - отображает текущие настройки PNL и отставания в USDT;
- /monitor - запускает алгоритм;
- /stop - останавливает алгоритм;
- /status - сообщает статус работы алгоритма;
- /info - сообщает о количестве позиций открытых в шорт, лонг, а также о марже;
- /help - предоставляет варианты команд.
## Установка и использование:
- Создайте файл .env, содержащий следующие переменные:
> файл создается в корневой папке проекта
  - в файле указать токен телеграмм бота и ключи Binance (с доступом к фьючерсной торговле):\
  **TG_TOKEN**=ТОКЕН\
  **BINANCE_FIRST_KEY**=КЛЮЧ_1\
  **BINANCE_SECOND_KEY**=КЛЮЧ_2
  - в **MAIN_USER** указан ID пользователя, имеющего доступ к выполнению команд и получающего уведомления. (например: MAIN_USER=1234)
> Для определения ID пользователя нужно отправить следующему [боту](https://t.me/getmyid_bot) любое сообщение с соответствующего аккаунта. Значение, содержащееся в **Your user ID** - ID пользователя
- Установить виртуальное окружение и активировать его (при необходимости):
> Установка и активация в корневой папке проекта
```sh
python3 -m venv venv
source venv/bin/activate # for macOS
source venv/Scripts/activate # for Windows
```
- Установить зависимости:
```sh
pip install -r requirements.txt
```
- Запустить проект:
```sh
python3 main.py
```
